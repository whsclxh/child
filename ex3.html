<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width;initial-scale=1.0;user-scalable=0;">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <style type="text/css">
    table,
    td,
    th {
      border: 1px solid black;
    }

    table {
      height: 50%;
      width: 40%;
      margin-top: 100px;
      margin-left: auto;
      margin-right: auto;
    }

   #buttons {
      width: 10%;
      margin:0 auto;
    }
  
    #button0 {
      width: 40%;
      margin:5px auto;
    }
  </style>
</head>

<body>
  <form method="POST" action="ex3_finish.php">
    <header><div style="text-align: center;">請問現在是幾點鐘? 請選擇正確的數字。</div></header>

  <table>
    <tr style="height: 280px">
      <td style="width: 380px" colspan="3"><canvas id="clock1" width="200px" height="200px" style="display:block; margin:auto;"></canvas></td>
      <td style="width: 380px" colspan="3"><canvas id="clock2" width="200px" height="200px" style="display:block; margin:auto;"></canvas></td>
    </tr>
    <tr style="height:  40px">
      
    <td><input type="radio" id="n1" name="ans0" checked><span id="f00"></span></td>
    <td><input type="radio" id="n2" name="ans0" ><span id="f01"></span></td>
    <td><input type="radio" id="n3" name="ans0" ><span id="f02"></span></td>

    <td><input type="radio" id="n4" name="ans1" checked><span id="f03"></span></td>
    <td><input type="radio" id="n5" name="ans1" ><span id="f04"></span></td>
    <td><input type="radio" id="n6" name="ans1" ><span id="f05"></span></td>
    </tr>
        
      

    <tr style="height: 280px">
      <td style="width: 380px" colspan="3">
        <canvas id="clock3" width="200px" height="200px" style="display:block; margin:auto;"></canvas>
      </td>

      <td style="width: 380px" colspan="3">
        <canvas id="clock4" width="200px" height="200px" style="display:block; margin:auto;"></canvas>
      </td>

    </tr>

    <tr style="height: 40px">
        <td><input type="radio" id="n7" name="ans2" checked><span id="f06"></span></td>
        <td><input type="radio" id="n8" name="ans2"><span id="f07"></span></td>
        <td><input type="radio" id="n9" name="ans2"><span id="f08"></span></td>

        <td><input type="radio" id="n10" name="ans3" checked><span id="f09"></span></td>
        <td><input type="radio" id="n11" name="ans3"><span id="f10"></span></td>
        <td><input type="radio" id="n12" name="ans3"><span id="f11"></span></td>
    </tr>
  </table>
  <div id="button0"><button type="submit" class="btn btn-outline-dark btn-lg btn-block">Checked</button></div>
  <input type="hidden" id="anw1" name="anwser1"/>				
  <input type="hidden" id="anw2" name="anwser2"/>
  <input type="hidden" id="anw3" name="anwser3"/>
  <input type="hidden" id="anw4" name="anwser4"/>
  </form>

  <script>
        window.onload = function(){
      var a1 = document.getElementById("anw1");
      a1.value = h0;
      var a2 = document.getElementById("anw2"); 
      a2.value = h1;
      var a3 = document.getElementById("anw3"); 
      a3.value = h2;
      var a4 = document.getElementById("anw4"); 
      a4.value = h3;
    							
    };

    (function (win) {
      function DrawClock(options) {
        this.hour = options.hour;
        this.minute = options.minute;
        this.canvas = options.el;
        this.ctx = this.canvas.getContext('2d'); //方法返回一個用於在畫布上繪圖的環境
        this.width = this.ctx.canvas.width;
        this.height = this.ctx.canvas.height;  
        this.r = this.width / 2;
        this.rem = this.width / 200;
        this.digits = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 1, 2];

        var self = this;
        self.init();
        //setInterval(function(){
        //  self.init();
        //}, 1000);
        //drawClock();
      }

    //   function random_int(max) {
    //  return Math.floor(Math.random() * max);
    //}
        
      
      DrawClock.prototype = {
        init: function () {
          var ctx = this.ctx;
          ctx.clearRect(0, 0, this.width, this.height); //在給定的矩形內清除指定的畫素
          /*            var now = new Date();
                      var hours = now.getHours();
                      var minutes = now.getMinutes();
                      var seconds = now.getSeconds();*/
          // var hours = Math.floor(Math.random() * 12);
          // var minutes = 0;
          var hours = this.hour;
          var minute = this.minute;
          //var seconds = Math.floor(Math.random() * 60);

          var hour = hours >= 12 ? hours - 12 : hours;
          var minutes = minutes;

          this.drawBackground();
          this.drawHour(hour, minute);
          this.drawMinute(minute);
          //this.drawSecond(seconds);
          this.drawDot();
          ctx.restore();
          
          
        },
        drawBackground: function () {
          var ctx = this.ctx;
          var self = this;
          ctx.save();
          ctx.translate(this.r, this.r); //重新對映畫布上的 (0,0) 位置
          ctx.beginPath();
          ctx.lineWidth = 8 * this.rem;
          ctx.arc(0, 0, this.r - ctx.lineWidth / 2, 0, 2 * Math.PI, false); //建立弧/曲線（用於建立圓形或部分圓）
          ctx.stroke();
          ctx.font = 16 * this.rem + "px Arial"; //設定或返回文字內容的當前字型屬性
          ctx.textAlign = "center"; //設定或返回文字內容的當前對齊方式
          ctx.textBaseline = "middle"; //設定或返回在繪製文字時使用的當前文字基線
          this.digits.forEach(function (number, i) {
            var rad = 2 * Math.PI / 12 * i;
            var x = Math.cos(rad) * (self.r - 33 * self.rem);
            var y = Math.sin(rad) * (self.r - 33 * self.rem);
            ctx.fillText(number, x, y); //在畫布上繪製"被填充的"文字
          });

          //分鐘的刻度，每分鐘轉6deg
         for (var i = 0; i < 60; i++) {
            ctx.save(); //儲存當前環境的狀態
            ctx.rotate(6 * i * Math.PI / 180); //旋轉當前繪圖
            ctx.beginPath(); //起始一條路徑，或重置當前路徑
            ctx.moveTo(0, -82 * this.rem); //把路徑移動到畫布中的指定點，不建立線條
            ctx.lineTo(0, -87 * this.rem); //新增一個新點，然後在畫布中建立從該點到最後指定點的線條
            ctx.closePath(); //建立從當前點回到起始點的路徑
            ctx.strokeStyle = '#000'; //設定或返回用於筆觸的顏色、漸變或模式
            ctx.lineWidth = 1 * this.rem; //設定或返回當前的線條寬度
            ctx.stroke(); //繪製已定義的路徑
            ctx.restore(); //返回之前儲存過的路徑狀態和屬性
          }
          //小時的刻度，每小時轉30deg
          for (var i = 0; i < 12; i++) {
            ctx.save();
            ctx.rotate(30 * i * Math.PI / 180);
            ctx.beginPath();
            ctx.moveTo(0, -79 * this.rem);
            ctx.lineTo(0, -87 * this.rem);
            ctx.closePath();
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2 * this.rem;
            ctx.stroke();
            ctx.restore();
          }
        },
        drawHour: function (hour, minute) {
          var ctx = this.ctx;
          ctx.save();
          ctx.beginPath();
          var hRad = 2 * Math.PI / 12 * hour;
          var mRad = 2 * Math.PI / 12 / 60 * minute;
          ctx.rotate(hRad + mRad);
          ctx.lineWidth = 6 * this.rem;
          ctx.lineCap = "round"; //設定或返回線條的結束端點樣式
          ctx.moveTo(0, 10 * this.rem);
          ctx.lineTo(0, -this.r / 2);
          ctx.stroke();
          ctx.restore();
        },
        drawMinute: function (minute) {
          var ctx = this.ctx;
          ctx.save();
          ctx.beginPath();
          var rad = 2 * Math.PI / 60 * minute;
          ctx.rotate(rad);
          ctx.lineWidth = 3 * this.rem;
          ctx.lineCap = "round";
          ctx.moveTo(0, 10 * this.rem);
          ctx.lineTo(0, -this.r + 26 * this.rem);
          ctx.stroke();
          ctx.restore();
        },

        drawDot: function (minute) {
          var ctx = this.ctx;
          ctx.beginPath();
          ctx.fillStyle = "#fff";
          ctx.arc(0, 0, 3 * this.rem, 0, 2 * Math.PI, false);
          ctx.fill();
        }
      };

      win.DrawClock = DrawClock;
    })(window);

    var h0= Math.floor(Math.random() * 12) + 1;
    var f0 =Math.floor(Math.random() * 3);

    if(f0==0){
      var hh1 = h0 + 1;
      var hh2 = h0 + 2;
      if(hh1>12){
        hh1-=12;
      }
      if(hh2>12){
        hh2-=12;
      }
      document.getElementById('f00').innerHTML = h0;
      document.getElementById('f01').innerHTML = hh1;
      document.getElementById('f02').innerHTML = hh2;
    }
    if(f0==1){
      var hh1 = h0-1;
      var hh2 = h0+1;
      if(hh1<=0){
        hh1+=12;
      }
      if(hh2>12){
        hh2-=12;
      }
      document.getElementById('f00').innerHTML = hh1;
      document.getElementById('f01').innerHTML = h0;
      document.getElementById('f02').innerHTML = hh2;
    }
    if(f0==2){
      var hh1 = h0-2;
      var hh2 = h0-1;
      if(hh1<=0){
        hh1+=12;
      }
      if(hh2<=0){
        hh2+=12;
      }
      document.getElementById('f00').innerHTML = hh1;
      document.getElementById('f01').innerHTML = hh2;
      document.getElementById('f02').innerHTML = h0;
    }

    
    var h1= Math.floor(Math.random() * 12) + 1;
    var f1 =Math.floor(Math.random() * 3);

  if(f1==0){
      var hh1 = h1 + 1;
      var hh2 = h1 + 2;
      if(hh1>12){
        hh1-=12;
      }
      if(hh2>12){
        hh2-=12;
      }
      document.getElementById('f03').innerHTML = h1;
      document.getElementById('f04').innerHTML = hh1;
      document.getElementById('f05').innerHTML = hh2;
    }
    if(f1==1){
      var hh1 = h1-1;
      var hh2 = h1+1;
      if(hh1<=0){
        hh1+=12;
      }
      if(hh2>12){
        hh2-=12;
      }
      document.getElementById('f03').innerHTML = hh1;
      document.getElementById('f04').innerHTML = h1;
      document.getElementById('f05').innerHTML = hh2;
    }
    if(f1==2){
      var hh1 = h1-2;
      var hh2 = h1-1;
      if(hh1<=0){
        hh1+=12;
      }
      if(hh2<=0){
        hh2+=12;
      }
      document.getElementById('f03').innerHTML = hh1;
      document.getElementById('f04').innerHTML = hh2;
      document.getElementById('f05').innerHTML = h1;
    }


    var h2= Math.floor(Math.random() * 12) + 1;
    var f2 =Math.floor(Math.random() * 3);


    if(f2==0){
      var hh1 = h2 + 1;
      var hh2 = h2 + 2;
      if(hh1>12){
        hh1-=12;
      }
      if(hh2>12){
        hh2-=12;
      }
      document.getElementById('f06').innerHTML = h2;
      document.getElementById('f07').innerHTML = hh1;
      document.getElementById('f08').innerHTML = hh2;
    }
    if(f2==1){
      var hh1 = h2-1;
      var hh2 = h2+1;
      if(hh1<=0){
        hh1+=12;
      }
      if(hh2>12){
        hh2-=12;
      }
      document.getElementById('f06').innerHTML = hh1;
      document.getElementById('f07').innerHTML = h2;
      document.getElementById('f08').innerHTML = hh2;
    }
    if(f2==2){
      var hh1 = h2-2;
      var hh2 = h2-1;
      if(hh1<=0){
        hh1+=12;
      }
      if(hh2<=0){
        hh2+=12;
      }
      document.getElementById('f06').innerHTML = hh1;
      document.getElementById('f07').innerHTML = hh2;
      document.getElementById('f08').innerHTML = h2;
    }

    var h3= Math.floor(Math.random() * 12) + 1;
    var f3 =Math.floor(Math.random() * 3);


    if(f3==0){
      var hh1 = h3 + 1;
      var hh2 = h3 + 2;
      if(hh1>12){
        hh1-=12;
      }
      if(hh2>12){
        hh2-=12;
      }
      document.getElementById('f09').innerHTML = h3;
      document.getElementById('f10').innerHTML = hh1;
      document.getElementById('f11').innerHTML = hh2;
    }
    if(f3==1){
      var hh1 = h3-1;
      var hh2 = h3+1;
      if(hh1<=0){
        hh1+=12;
      }
      if(hh2>12){
        hh2-=12;
      }
      document.getElementById('f09').innerHTML = hh1;
      document.getElementById('f10').innerHTML = h3;
      document.getElementById('f11').innerHTML = hh2;
    }
    if(f3==2){
      var hh1 = h3-2;
      var hh2 = h3-1;
      if(hh1<=0){
        hh1+=12;
      }
      if(hh2<=0){
        hh2+=12;
      }
      document.getElementById('f09').innerHTML = hh1;
      document.getElementById('f10').innerHTML = hh2;
      document.getElementById('f11').innerHTML = h3;
    }



    

    new DrawClock({
      el: document.getElementById("clock1"),
      hour: h0,
      minute: 0
    });
        new DrawClock({
      el: document.getElementById("clock2"),
      hour: h1,
      minute: 0
    });
      
      new DrawClock({
      el: document.getElementById("clock3"),
      hour: h2,
      minute: 0
    });
      
      new DrawClock({
      el: document.getElementById("clock4"),
      hour: h3,
      minute: 0
    });
  </script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
    <div id="buttons">
    <button type="button" class="btn btn-outline-dark" id="button1" onclick="location.href='http://hello.noip.me/ex1.html'">1</button>
    <button type="button" class="btn btn-outline-dark" id="button2" onclick="location.href='http://hello.noip.me/ex2.html'">2</button>
    <button type="button" class="btn btn-outline-dark" id="button3" onclick="location.href='http://hello.noip.me/ex3.html'">3</button>
    <button type="button" class="btn btn-outline-dark" id="button4" onclick="location.href='http://hello.noip.me/ex4.html'">4</button>
    <button type="button" class="btn btn-outline-dark" id="button5" onclick="location.href='http://hello.noip.me/ex5.html'">5</button>
    </div>
</body>

</html>