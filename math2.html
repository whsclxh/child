<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<script src="jquery-3.3.1.min.js"></script>
<script type="text/javascript">
	window.onload = function(){        
		var pic1 = document.getElementById("pic1");        
		pic1.value = pic[0];
		var pic2 = document.getElementById("pic2");        
		pic2.value = pic[1];
		var pic3 = document.getElementById("pic3");        
		pic3.value = pic[2];
		var pic4 = document.getElementById("pic4");        
		pic4.value = pic[3];
		var pic5 = document.getElementById("pic5");        
		pic5.value = pic[4];
		var a1 = document.getElementById("a1");        
		a1.value = question1[0];
		var a2 = document.getElementById("a2");        
		a2.value = question1[1];
		var a3 = document.getElementById("a3");        
		a3.value = question1[2];
		var a4 = document.getElementById("a4");        
		a4.value = question1[0]+question1[1]+question1[2];
		var a5 = document.getElementById("a5");        
		a5.value = question2[0];
		var a6 = document.getElementById("a6");        
		a6.value = question2[1];
		var a7 = document.getElementById("a7");        
		a7.value = question2[2];
		var a8 = document.getElementById("a8");        
		a8.value = question2[0]+question2[1]+question2[2];
		var a9 = document.getElementById("a9");        
		a9.value = question3[0];
		var a10 = document.getElementById("a10");        
		a10.value = question3[1];
		var a11 = document.getElementById("a11");        
		a11.value = question3[2];
		var a12 = document.getElementById("a12");        
		a12.value = question3[0]+question3[1]+question3[2];
		var a13 = document.getElementById("a13");        
		a13.value = question4[0];
		var a14 = document.getElementById("a14");        
		a14.value = question4[1];
		var a15 = document.getElementById("a15");        
		a15.value = question4[2];
		var a16 = document.getElementById("a16");        
		a16.value = question4[0]+question4[1]+question4[2];
		var a17 = document.getElementById("a17");        
		a17.value = question5[0];
		var a18 = document.getElementById("a18");        
		a18.value = question5[1];
		var a19 = document.getElementById("a19");        
		a19.value = question5[2];
		var a20 = document.getElementById("a20");        
		a20.value = question5[0]+question5[1]+question5[2];
    };
	function getRandom(minNum,maxNum){	
		return Math.floor(Math.random()*(maxNum-minNum+1))+minNum;
	}

	function getRandomArray(minNum,maxNum,n){	                                         //隨機產生不重覆的n個數字
		var rdmArray=[n];		                                                             //儲存產生的陣列
		for(var i=0;i<n;i++){
			var rdm=0;		                                                             //暫存的亂數
			do{
				var exist=false;															 //此亂數是否已存在
				rdm=getRandom(minNum, maxNum);											 //取得亂數
																							 //檢查亂數是否存在於陣列中，若存在則繼續回圈
				if(rdmArray.indexOf(rdm)!=-1) exist=true;
			}while(exist);																 //產生沒出現過的亂數時離開迴圈
			rdmArray[i]=rdm;
		}
		return rdmArray;
	}

	var question1=getRandomArray(1,5,3);
	var question2=getRandomArray(1,5,3);
	var question3=getRandomArray(1,5,3);
	var question4=getRandomArray(1,5,3);
	var question5=getRandomArray(1,5,3);
	var pic=getRandomArray(0,11,5);

	function pictures(x,y){
		var imgurl=[
    	'img/fruit/apple.png',
    	'img/fruit/banana.png',
    	'img/fruit/kiwi.png',
    	'img/fruit/melon.png',
    	'img/fruit/orange.png',
    	'img/fruit/peach.png',
    	'img/fruit/pear.png',
    	'img/fruit/pear2.png',
    	'img/fruit/pepper.png',
    	'img/fruit/persimmon.png',
    	'img/fruit/strawberry.png',
    	'img/fruit/tomato.png',
	];
		for(var i=1;i<=x;i++){
			document.write('<img src="'+imgurl[pic[y]]+'">');
		}
	}
</script>
<body>
	<h2>請你加加看有多少?</h2>
	<form method="post" action="math2_finish.php">
		<table border="1">
			<tr>
				<td style="width: 25%; text-align: center;"><script type="text/javascript">pictures(question1[0],0);</script></td>
				<td style="width: 25%; text-align: center;"><script type="text/javascript">pictures(question1[1],0);</script></td>
				<td style="width: 25%; text-align: center;"><script type="text/javascript">pictures(question1[2],0);</script></td>
			</tr>
			<tr>
				<td style="width: 25%; text-align: center;"><input type="number" name="anw1">+</td>
				<td style="width: 25%; text-align: center;"><input type="number" name="anw2">+</td>
				<td style="width: 25%; text-align: center;"><input type="number" name="anw3">=</td>
				<td style="width: 5%; text-align: center;"><input type="number" name="anw4"></td>
			</tr>
			<tr>
				<td style="width: 25%; text-align: center;"><script type="text/javascript">pictures(question2[0],1);</script></td>
				<td style="width: 25%; text-align: center;"><script type="text/javascript">pictures(question2[1],1);</script></td>
				<td style="width: 25%; text-align: center;"><script type="text/javascript">pictures(question2[2],1);</script></td>
			</tr>
			<tr>
				<td style="width: 25%; text-align: center;"><input type="number" name="anw5">+</td>
				<td style="width: 25%; text-align: center;"><input type="number" name="anw6">+</td>
				<td style="width: 25%; text-align: center;"><input type="number" name="anw7">=</td>
				<td style="width: 5%; text-align: center;"><input type="number" name="anw8"></td>
			</tr>
			<tr>
				<td style="width: 25%; text-align: center;"><script type="text/javascript">pictures(question3[0],2);</script></td>
				<td style="width: 25%; text-align: center;"><script type="text/javascript">pictures(question3[1],2);</script></td>
				<td style="width: 25%; text-align: center;"><script type="text/javascript">pictures(question3[2],2);</script></td>
			</tr>
			<tr>
				<td style="width: 25%; text-align: center;"><input type="number" name="anw9">+</td>
				<td style="width: 25%; text-align: center;"><input type="number" name="anw10">+</td>
				<td style="width: 25%; text-align: center;"><input type="number" name="anw11">=</td>
				<td style="width: 5%; text-align: center;"><input type="number" name="anw12"></td>
			</tr>
			<tr>
				<td style="width: 25%; text-align: center;"><script type="text/javascript">pictures(question4[0],3);</script></td>
				<td style="width: 25%; text-align: center;"><script type="text/javascript">pictures(question4[1],3);</script></td>
				<td style="width: 25%; text-align: center;"><script type="text/javascript">pictures(question4[2],3);</script></td>
			</tr>
			<tr>
				<td style="width: 25%; text-align: center;"><input type="number" name="anw13">+</td>
				<td style="width: 25%; text-align: center;"><input type="number" name="anw14">+</td>
				<td style="width: 25%; text-align: center;"><input type="number" name="anw15">=</td>
				<td style="width: 5%; text-align: center;"><input type="number" name="anw16"></td>
			</tr>
			<tr>
				<td style="width: 25%; text-align: center;"><script type="text/javascript">pictures(question5[0],4);</script></td>
				<td style="width: 25%; text-align: center;"><script type="text/javascript">pictures(question5[1],4);</script></td>
				<td style="width: 25%; text-align: center;"><script type="text/javascript">pictures(question5[2],4);</script></td>
			</tr>
			<tr>
				<td style="width: 25%; text-align: center;"><input type="number" name="anw17">+</td>
				<td style="width: 25%; text-align: center;"><input type="number" name="anw18">+</td>
				<td style="width: 25%; text-align: center;"><input type="number" name="anw19">=</td>
				<td style="width: 5%; text-align: center;"><input type="number" name="anw20"></td>
			</tr>
		</table>
		<button>離開</button>
		<button type="submit" id="button">結束作答</button>
		<input type="hidden" id="pic1" name="picture1">
		<input type="hidden" id="pic2" name="picture2">
		<input type="hidden" id="pic3" name="picture3">
		<input type="hidden" id="pic4" name="picture4">
		<input type="hidden" id="pic5" name="picture5">
		<input type="hidden" id="a1" name="anwser1">
		<input type="hidden" id="a2" name="anwser2">
		<input type="hidden" id="a3" name="anwser3">
		<input type="hidden" id="a4" name="anwser4">
		<input type="hidden" id="a5" name="anwser5">
		<input type="hidden" id="a6" name="anwser6">
		<input type="hidden" id="a7" name="anwser7">
		<input type="hidden" id="a8" name="anwser8">
		<input type="hidden" id="a9" name="anwser9">
		<input type="hidden" id="a10" name="anwser10">
		<input type="hidden" id="a11" name="anwser11">
		<input type="hidden" id="a12" name="anwser12">
		<input type="hidden" id="a13" name="anwser13">
		<input type="hidden" id="a14" name="anwser14">
		<input type="hidden" id="a15" name="anwser15">
		<input type="hidden" id="a16" name="anwser16">
		<input type="hidden" id="a17" name="anwser17">
		<input type="hidden" id="a18" name="anwser18">
		<input type="hidden" id="a19" name="anwser19">
		<input type="hidden" id="a20" name="anwser20">
	</form>
</body>
</html>